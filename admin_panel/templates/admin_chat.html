<div class="chat-container">
    <div class="chat-sidebar">
        <div class="chat-header">
            <h3>Conversations</h3>
            <button class="btn btn-sm btn-primary" id="newChatBtn">
                <i class="fas fa-plus"></i> New Chat
            </button>
        </div>
        
        <div class="user-list" id="userList" style="display: none;">
            <h4>Select a user to chat with</h4>
            {% for user in users %}
            <div class="user-item" data-user-id="{{ user.id }}">
                {% if user.profile.profile_picture %}
                <img src="{{ user.profile.profile_picture.url }}" alt="{{ user.username }}" class="user-avatar">
                {% else %}
                <div class="default-avatar">{{ user.username|first|upper }}</div>
                {% endif %}
                <span>{{ user.username }}</span>
            </div>
            {% endfor %}
        </div>
        
        <div class="conversation-list">
            {% for data in conversation_data %}
            <a href="{% url 'chat:conversation_detail' data.conversation.id %}" class="conversation-item">
                {% if data.other_user.profile.profile_picture %}
                <img src="{{ data.other_user.profile.profile_picture.url }}" alt="{{ data.other_user.username }}" class="user-avatar">
                {% else %}
                <div class="default-avatar">{{ data.other_user.username|first|upper }}</div>
                {% endif %}
                <div class="conversation-info">
                    <h4>{{ data.other_user.username }}</h4>
                    <p class="last-message">
                        {% if data.last_message %}
                            {{ data.last_message.content|truncatewords:5 }}
                        {% else %}
                            Start a conversation
                        {% endif %}
                    </p>
                </div>
                <div class="conversation-meta">
                    {% if data.last_message %}
                    <span class="time">{{ data.last_message.timestamp|timesince }} ago</span>
                    {% endif %}
                    {% if data.unread_count > 0 %}
                    <span class="unread-count">{{ data.unread_count }}</span>
                    {% endif %}
                </div>
            </a>
            {% empty %}
            <div class="no-conversations">
                <p>No conversations yet. Start a new chat!</p>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <div class="chat-main">
        <div class="welcome-message">
            <h2>Welcome to Chat</h2>
            <p>Select a conversation or start a new one to begin chatting.</p>
        </div>
    </div>
</div>

<style>
/* Your existing CSS styles here */
</style>

<script>
// Your existing JavaScript here
</script>